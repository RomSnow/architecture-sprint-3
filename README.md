# Практика №1
## Задание 1.1

В текущем состоянии приложение представляет собой простой монолит, отвечающий за взаимодействие с пользователем, управление IoT, хранение данных. Взаимодействие происходит по наиболее примитивному сценарию через прямые синхронные запросы между компонентами.

Монолит реализует 2 основных домена:
 управление устройствами отопления, с поддоменами "Добавление и конфигурация устройств" и "Управление устройствами";

 управление телеметрией, отвечающий за управление и хранение данных с датчиков.

Описание системы в формате С4 диаграммы можно посмотреть в /diagrams/1-1

## Задание 1.2

Для реализации всех бизнес требований, а также увеличения гибкости и масштабирования системы было принято решено
перевести проект на микросервисную архитектуру.

### Исходный монолит

Исходный монолит был разделен на несколько новых сервисов по бизнес-доменам:
 - взаимодействие с устройствами IoT
 - считывание и хранение данных с сенсоров
 - настройка конфигурации устройств

### Новые бизнес-функции

Для реализации возможности добавления пользовательских сценариев добавлен "Script Service"

Также пользователь получил возможность самостоятельно настраивать и подключать устройства

За интеграцию с различными устройствами IoT теперь отвечает набор сервисов-адаптеров,
каждый из которых позволяет управлять устройствами IoT по предоставляемому протоколу.
При необходимости, существует возможность масштабирования набора сервисов-адаптеров или добавления новых для будущих интеграций.

Полную схему систему в формате С4 можно посмотреть в /diagrams/1-2

Так как текущая постановка задачи не включает в себя проектирование сопутствующей инфраструктуры,
то в схеме не указаны технологии мониторинга, логирования, обеспечения отказоустойчивости, Service Delivery.
Но полагается, что в процессе развития проекта они также будут внедрены.

## Задание 1.3

В рамках данного задания реализована сокращенная ER-диаграмма проекта, которую вероятнее всего нужно будет дорабатывать
при погружении в бизнес контекст.

С диаграммой можно ознакомиться в /diagrams/1-3

P.S.

Объект UserDevice описывает конкретное устройство определенного пользователя.
Oбъект DeviceModel описывает модель устройства с общими характеристиками.

## Задание 1.4

В этом задании было описано асинхронное API для взаимодействия сервисов DeviceControl и Telemetry.

API можно посмотреть в /api/DeviceControl_Telemetry_AsyncAPI.yaml

С синхронным API взаимодействия с сервиса телеметрии для внешних пользователей можно ознакомиться в /api/Telemetry_Swagger.yaml